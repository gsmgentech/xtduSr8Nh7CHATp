(() => {

  /* =========================
     VERSION CHECK
  ========================= */
  const APP_VERSION = '1.0.4'
  const KEY = 'gt_app_version'

  if (localStorage.getItem(KEY) !== APP_VERSION) {
    localStorage.setItem(KEY, APP_VERSION)
    if (!location.search.includes('v=')) {
      location.replace(location.pathname + '?v=' + APP_VERSION)
    }
  }

  /* =========================
     DEV PROTECTION
  ========================= */
  document.addEventListener('keydown', e => {
    if (
      e.key === 'F12' ||
      (e.ctrlKey && e.shiftKey && ['I','J','C'].includes(e.key)) ||
      (e.ctrlKey && e.key === 'U')
    ) {
      e.preventDefault()
    }
  })

  document.addEventListener('contextmenu', e => e.preventDefault())

})()
